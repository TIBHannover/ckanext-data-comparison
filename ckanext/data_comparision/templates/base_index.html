{% extends "page.html" %}

{% block secondary %}{% endblock  %}

{% block primary %}
    {% asset 'ckanext-data-comparision/page-css' %}
    {% asset 'ckanext-data-comparision/page-js' %}
    {% set action_process = h.url_for('data_comparision.process_columns', _external=True) %}
    {% set action_new_page = h.url_for('data_comparision.load_new_page', _external=True) %}
    <input type="hidden" id="process_url" value="{{action_process}}">
    <input type="hidden" id="new_page_url" value="{{action_new_page}}">
    <article class="module" role="main">
        <div class="module-content">
            {# Selection section #}
            <div id="selection-section-div">
                <div class="row browes-btn-div">
                      {% snippet 'snippets/data_comparision_browes.html', datasets=datasets %}
                </div>  
                <div class="row data-comparision-module" id="raw_tables_area">
                  <div class="col-sm-12 data-comparision-module-col">
                        {% snippet 'snippets/data_comparision_table_base.html', resource=resource %}
                  </div>            
                </div>
                  <div id="end-of-import-area-line"><div>
                  <br>
                  <div class="row">
                      <div class="col-sm-12 text-center">
                        <button class="btn btn-primary" type="button" id="process_btn">{{_('Process data')}}</button>
                      </div>
                  </div>
            </div>
            
            {# Selection section #}
            <br>
            {# Result section #}
            <div class="row"  id="analysis-result-area">
              <div class="col-sm-12" id="analysis-result-main-col">
                  {% snippet 'snippets/data_comparision_result_section.html'%}
              </div>
            </div>
            {# Result section #}
      </div>
    </article>
    
{% endblock  %}

{# {% block primary %}{% endblock %} #}
